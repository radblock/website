# website

run `npm install` to download the stuff you need, then

## `npm run build`

you'll notice this line in [index.html](https://github.com/radblock/website/blob/master/src/index.html#L23)

    signatory_url: '${signatory}',

The [lambda function that signs uploads](https://github.com/radblock/signatory) lives at a super weird url that changes often. At the time I'm writing this, it's `https://lyumoiiykj.execute-api.us-east-1.amazonaws.com/latest/sign`.

running `npm run build` (or `gulp build`) inserts the `signatory` variable from the file `deps.json` into index.html. `deps.json` is generated by the [code that creates the lambda function](https://github.com/radblock/infrastructure). 

As I'm writing this, `deps.json` looks like this:

```json
{
  "signatory": "https://lyumoiiykj.execute-api.us-east-1.amazonaws.com/latest/sign",
  "bucket": "radblock.xyz",
  "region": "us-east-1"
}
```

I forgot to mention: the new copy of the website with variables inserted goes into a newly-created folder called `dist`.

## `npm run deploy`

when you run `npm run deploy`, it does the build step described above, then uploads the contents of `dist` to the bucket in `deps.json`.
